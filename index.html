<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Large Language Model Evaluation for R â€¢ rinspect</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Large Language Model Evaluation for R">
<meta name="description" content="A port of Inspect, a widely adopted Python framework for large language model evaluation. Specifically aimed at ellmer users who want to measure the effectiveness of their LLM-based apps, the package includes facilities for prompt engineering, tool usage, multi-turn dialog, and model graded evaluations.">
<meta property="og:description" content="A port of Inspect, a widely adopted Python framework for large language model evaluation. Specifically aimed at ellmer users who want to measure the effectiveness of their LLM-based apps, the package includes facilities for prompt engineering, tool usage, multi-turn dialog, and model graded evaluations.">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">rinspect</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/simonpcouch/rinspect/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="rinspect">rinspect<a class="anchor" aria-label="anchor" href="#rinspect"></a>
</h1></div>
<!-- badges: start -->

<p>rinspect is a framework for large language model evaluation in R. Itâ€™s specifically aimed at ellmer users who want to measure the effectiveness of their LLM-based apps.</p>
<p>The package is an R port of the widely adopted Python framework <a href="https://inspect.ai-safety-institute.org.uk/" class="external-link">Inspect</a>. While the package doesnâ€™t integrate with Inspect directly, it allows users to interface with the <a href="https://inspect.ai-safety-institute.org.uk/log-viewer.html" class="external-link">Inspect Log Viewer</a> and provides an on-ramp to transition to Inspect if need be by writing evaluation logs to the same file format.</p>
<blockquote>
<p><strong>Important</strong></p>
<p>ðŸš§ Under construction! ðŸš§</p>
<p>rinspect is highly experimental and much of its documentation is aspirational.</p>
</blockquote>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the developmental version of rinspect using:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">pak</span><span class="fu">::</span><span class="fu"><a href="https://pak.r-lib.org/reference/pak.html" class="external-link">pak</a></span><span class="op">(</span><span class="st">"simonpcouch/rinspect"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="example">Example<a class="anchor" aria-label="anchor" href="#example"></a>
</h2>
<p>Inspect is based on three core concepts: datasets, solvers, and scorers. In rinspect, each of these objects act on <strong>tasks</strong>.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/simonpcouch/rinspect" class="external-link">rinspect</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ellmer.tidyverse.org" class="external-link">ellmer</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tibble.tidyverse.org/" class="external-link">tibble</a></span><span class="op">)</span></span></code></pre></div>
<p><strong>Datasets</strong> are a set of labelled samples where <code>input</code> is a prompt and <code>target</code> is either literal value(s) or grading guidance. Situate a dataset inside of a task with <code><a href="reference/task_create.html">task_create()</a></code>:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">simple_addition</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span></span>
<span>  input <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"What's 2+2?"</span>, <span class="st">"What's 2+3?"</span>, <span class="st">"What's 2+4?"</span><span class="op">)</span>,</span>
<span>  target <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"4"</span>, <span class="st">"5"</span>, <span class="st">"6"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">tsk</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/task_create.html">task_create</a></span><span class="op">(</span>dataset <span class="op">=</span> <span class="va">simple_addition</span><span class="op">)</span></span>
<span><span class="va">tsk</span></span>
<span><span class="co">#&gt; # Evaluation task simple_addition.</span></span>
<span><span class="co">#&gt; # A tibble: 3 Ã— 3</span></span>
<span><span class="co">#&gt;   input       target    id</span></span>
<span><span class="co">#&gt; * &lt;chr&gt;       &lt;chr&gt;  &lt;int&gt;</span></span>
<span><span class="co">#&gt; 1 What's 2+2? 4          1</span></span>
<span><span class="co">#&gt; 2 What's 2+3? 5          2</span></span>
<span><span class="co">#&gt; 3 What's 2+4? 6          3</span></span></code></pre></div>
<p><strong>Solvers</strong> evaluate the <code>input</code> in the dataset and produce a final result (hopefully) resembling <code>target</code>. The simplest example of a solver is a plain ellmer chatâ€”evaluate a solver on a task with <code><a href="reference/task_solve.html">task_solve()</a></code>:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tsk</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/task_solve.html">task_solve</a></span><span class="op">(</span><span class="va">tsk</span>, solver <span class="op">=</span> <span class="fu"><a href="https://ellmer.tidyverse.org/reference/chat_claude.html" class="external-link">chat_claude</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; Solving â– â– â– â– â– â– â– â– â– â– â–                        33% | ETA:  2s</span></span>
<span><span class="co">#&gt; Solving â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â–              67% | ETA:  1s</span></span>
<span><span class="co">#&gt; Solving â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â–   100% | ETA:  0s</span></span>
<span><span class="va">tsk</span></span>
<span><span class="co">#&gt; # Evaluation task simple_addition.</span></span>
<span><span class="co">#&gt; # A tibble: 3 Ã— 5</span></span>
<span><span class="co">#&gt;   input       target    id output  solver</span></span>
<span><span class="co">#&gt; * &lt;chr&gt;       &lt;chr&gt;  &lt;int&gt; &lt;chr&gt;   &lt;list&gt;</span></span>
<span><span class="co">#&gt; 1 What's 2+2? 4          1 2+2=4   &lt;Chat&gt;</span></span>
<span><span class="co">#&gt; 2 What's 2+3? 5          2 2+3 = 5 &lt;Chat&gt;</span></span>
<span><span class="co">#&gt; 3 What's 2+4? 6          3 2+4 = 6 &lt;Chat&gt;</span></span></code></pre></div>
<p><strong>Scorers</strong> evaluate the final output of solvers. They may use text comparisons, model grading, or other custom schemes. Score solver output using <code><a href="reference/task_score.html">task_score()</a></code>:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tsk</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/task_score.html">task_score</a></span><span class="op">(</span><span class="va">tsk</span>, scorer <span class="op">=</span> <span class="fu"><a href="reference/scorer_model.html">model_graded_qa</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; Scoring â– â– â– â– â– â– â– â– â– â– â–                        33% | ETA:  5s</span></span>
<span><span class="co">#&gt; Scoring â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â–              67% | ETA:  3s</span></span>
<span><span class="co">#&gt; Scoring â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â–   100% | ETA:  0s</span></span>
<span><span class="va">tsk</span></span>
<span><span class="co">#&gt; # Evaluation task simple_addition.</span></span>
<span><span class="co">#&gt; # A tibble: 3 Ã— 7</span></span>
<span><span class="co">#&gt;   input       target    id output  solver score scorer</span></span>
<span><span class="co">#&gt; * &lt;chr&gt;       &lt;chr&gt;  &lt;int&gt; &lt;chr&gt;   &lt;list&gt; &lt;dbl&gt; &lt;list&gt;</span></span>
<span><span class="co">#&gt; 1 What's 2+2? 4          1 2+2=4   &lt;Chat&gt;     1 &lt;Chat&gt;</span></span>
<span><span class="co">#&gt; 2 What's 2+3? 5          2 2+3 = 5 &lt;Chat&gt;     1 &lt;Chat&gt;</span></span>
<span><span class="co">#&gt; 3 What's 2+4? 6          3 2+4 = 6 &lt;Chat&gt;     1 &lt;Chat&gt;</span></span></code></pre></div>
<p>Once a task has been scored, itâ€™s ready to explore interactively with the Inspect Log Viewer:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/inspect_view.html">inspect_view</a></span><span class="op">(</span><span class="va">tsk</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/log_viewer.png" alt="A screenshot of the Inspect Log Viewer, an interactive app displaying information on the 3 samples evaluated in this eval." width="100%"></p>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/simonpcouch/rinspect/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/simonpcouch/rinspect/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>

<div class="community">
<h2 data-toc-skip>Community</h2>
<ul class="list-unstyled">
<li><a href="CODE_OF_CONDUCT.html">Code of conduct</a></li>
</ul>
</div>

<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing rinspect</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Simon Couch <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0001-5676-5107" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>Posit Software, PBC <br><small class="roles"> Copyright holder, funder </small>  </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental" class="external-link"><img src="https://img.shields.io/badge/lifecycle-experimental-orange.svg" alt="Lifecycle: experimental"></a></li>
<li><a href="https://CRAN.R-project.org/package=rinspect" class="external-link"><img src="https://www.r-pkg.org/badges/version/rinspect" alt="CRAN status"></a></li>
<li><a href="https://github.com/simonpcouch/rinspect/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/simonpcouch/rinspect/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Simon Couch, Posit Software, PBC.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
